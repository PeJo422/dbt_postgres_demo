version: 2

models:
  - name: transactions
    description: >
      This fact table contains all financial transactions made by users. 
      Each row represents a single transaction made using a card, including purchase details, currency, and merchant data.
      Used for financial reporting, fraud detection, and spend analysis.
    config:
      contract:
        enforced: true
    columns:
      - name: user_id
        description: "Unique identifier of the user who performed the transaction."
        data_type: int
        constraints:
          - type: not_null

      - name: card_number
        description: "Masked card number used to perform the transaction."
        data_type: string
        constraints:
          - type: not_null

      - name: amount
        description: "Monetary value of the transaction."
        data_type: numeric
        constraints:
          - type: not_null

      - name: currency
        description: "ISO 4217 currency code representing the currency used (e.g., USD, EUR)."
        data_type: string
        constraints:
          - type: not_null

      - name: merchant
        description: "Name of the merchant where the transaction occurred."
        data_type: string

      - name: purchase_date
        description: "Date when the transaction was made."
        data_type: date
        constraints:
          - type: not_null